/**
 *  @file       main.c
 *
 *  @date       2020.07.11
 *  @author     Stulov Tikhon (kudesnick@inbox.ru)
 *
 *  @brief      
 *  @details    
 *
 *  @mainpage   
 */

/***************************************************************************************************
 *                                      INCLUDED FILES
 **************************************************************************************************/

#include <stdio.h>
#include "Board_Buttons.h"

/***************************************************************************************************
 *                                       DEFINITIONS
 **************************************************************************************************/

/***************************************************************************************************
 *                                      PRIVATE TYPES
 **************************************************************************************************/

/***************************************************************************************************
 *                               PRIVATE FUNCTION PROTOTYPES
 **************************************************************************************************/

/***************************************************************************************************
 *                                       PRIVATE DATA
 **************************************************************************************************/

/***************************************************************************************************
 *                                       PUBLIC DATA
 **************************************************************************************************/

/***************************************************************************************************
 *                                      EXTERNAL DATA
 **************************************************************************************************/

/***************************************************************************************************
 *                              EXTERNAL FUNCTION PROTOTYPES
 **************************************************************************************************/

/***************************************************************************************************
 *                                    PRIVATE FUNCTIONS
 **************************************************************************************************/

/***************************************************************************************************
 *                                    PUBLIC FUNCTIONS
 **************************************************************************************************/

#if !defined(__CC_ARM) && defined(__ARMCC_VERSION) && !defined(__OPTIMIZE__)
    /*
    Without this directive, it does not start if -o0 optimization is used and the "main"
    function without parameters.
    see http://www.keil.com/support/man/docs/armclang_mig/armclang_mig_udb1499267612612.htm
    */
    __asm(".global __ARM_use_no_argv\n\t" "__ARM_use_no_argv:\n\t");
#endif

/**
 * @brief   Main function
 * @return  Error code
 */
int main(void)
{
    Buttons_Initialize();

    for(;;)
    {
        printf("\033[31mC\033[32mO\033[33mL\033[34mO\033[35mR\033[42m \033[0m"
               "\033[36mT\033[37mE\033[30m\033[47mS\033[0mT\n"); // Color test
        printf("Runing main function..\n");
        
        for(volatile uint32_t i = 0x40000; i > 0; i--);
        
        while(!Buttons_GetState());
    }

    return 0;
}

/***************************************************************************************************
 *                                       END OF FILE
 **************************************************************************************************/
